# conf/preprocess_adata.yaml
defaults:
  - preprocess_adata_default.yaml
# Input file path
input_file: "data/RNA/raw/test/human_pancreas_norm_complexBatch.h5ad"

# Output directory for processed files
output_dir: "data/RNA/processed/test"
overwrite: true
# Train/validation split configuration
split_dataset: false
train_split: 0.9
# If false, the script will NOT split into train/val but instead
# output a single 'all.h5ad' file. This can be used for test data.
#If X does not have raw counts provide a key:
count_layer_key: "counts" #key in adata.raw.X that contains the raw counts
#For batch aware highly variable gene selection:
batch_key: "tech"
n_top_genes: 512
#to append the instrument to the description. Set any of them to null if you want to skip.
instrument_key: null #key in adata.obs that contains the instrument information
description_key: null
# Filter certain low frequency categories
#categories:
#  - "cell_type"
#  - "dataset_title"
categories:
  - ${batch_key}
category_threshold: 10 # remove all categories that have less than the threshold

#For Plotting
metrics_of_interest: #these numeric metrics will be plotted as a distribution
  - "n_genes_by_counts"
  - "total_counts"
  - "pct_counts_mt"
categories_of_interest: #This will be used to colour a pca, and check the distribution of the metrics_of_interest
  - ${batch_key}
  - "tissue"
  - "assay"
