# conf/create_dataset.yaml
# If split_dataset is true, we expect processed_paths_train/val for "train"/"val" HF splits.
# If split_dataset is false, we expect processed_paths_all for a single "test" (or "all") split.

split_dataset: true

# These get used only if split_dataset is true
#data_dir: "data/RNA/processed_with_emb/train/cellxgene_pseudo_bulk_35k"
data_dir: "data/RNA/processed_with_emb/test/tabula_sapiens_bone_marrow"
#keys in obs to be used for sentence generation
sentence_keys: [
    "sample_id_og", # will be added to obs within the script
    "cell_sentence",
    "semantic_true",
    "semantic_similar",
  ]
required_obsm_keys: ["X_pca", "X_scvi_fm"]
# cell sentence generation. Will generate obs keys: "cell_sentence", "semantic_true", "semantic_similar"
annotation_key: "cell_type"
gene_name_column: "gene_name" #column in .var containing gene names, if it is not present, var.index will be used
include_label_prob: 0
cs_length: 10

caption_key: "cell_type"
negatives_per_sample: 2
#to sample negative samples from the same batch
batch_key: "_scvi_batch"
# For test sets without a proper text caption, you might set dataset_format="single". For train/val, you might use "pairs" or "multiplets".
dataset_format: "single"

output_dir: "data/hf_datasets"
push_to_hub: true
base_repo_id: "jo-mengr"

use_nextcloud: false
nextcloud_config:
  url: "NEXTCLOUD_URL"
  username: "NEXTCLOUD_USER" # Use environment variable or override
  password: "NEXTCLOUD_PASSWORD" # Use environment variable or override
  remote_path: ""
